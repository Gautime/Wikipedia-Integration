{"version":3,"sources":["src/server/errors/RequiredApiVersionError.ts"],"names":[],"mappings":";;AAAA,iCAAiC;AAGjC;IAII,YAAY,IAAc,EAAE,gBAAwB;QAH7C,SAAI,GAAW,oBAAoB,CAAC;QAIvC,IAAI,QAAQ,GAAW,EAAE,CAAC;QAC1B,IAAI,MAAM,CAAC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAAC,kBAAkB,CAAC,EAAE;YACtD,QAAQ,GAAG,mEAAmE,CAAC;SAClF;QAED,IAAI,CAAC,OAAO,GAAG,2BAA2B,IAAI,CAAC,IAAI,MAAM,IAAI,CAAC,EAAE,mBAAmB;YAC/E,IAAI,IAAI,CAAC,kBAAkB,iDAAiD;YAC5E,IAAI,gBAAgB,IAAI,QAAQ,EAAE,CAAC;IAC3C,CAAC;CACJ;AAdD,0DAcC","file":"RequiredApiVersionError.js","sourcesContent":["import * as semver from 'semver';\nimport { IAppInfo } from '../../definition/metadata';\n\nexport class RequiredApiVersionError implements Error {\n    public name: string = 'RequiredApiVersion';\n    public message: string;\n\n    constructor(info: IAppInfo, versionInstalled: string) {\n        let moreInfo: string = '';\n        if (semver.gt(versionInstalled, info.requiredApiVersion)) {\n            moreInfo = ' Please tell the author to update their App as it is out of date.';\n        }\n\n        this.message = `Failed to load the App \"${info.name}\" (${info.id}) as it requires ` +\n            `v${info.requiredApiVersion} of the App API however your server comes with ` +\n            `v${versionInstalled}.${moreInfo}`;\n    }\n}\n"]}
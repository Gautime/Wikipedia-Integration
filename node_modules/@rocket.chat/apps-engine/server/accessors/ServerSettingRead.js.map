{"version":3,"sources":["src/server/accessors/ServerSettingRead.ts"],"names":[],"mappings":";;;;;;;;;;AAKA;IACI,YAA6B,aAAmC,EAAmB,KAAa;QAAnE,kBAAa,GAAb,aAAa,CAAsB;QAAmB,UAAK,GAAL,KAAK,CAAQ;IAAI,CAAC;IAE9F,UAAU,CAAC,EAAU;QACxB,OAAO,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACzD,CAAC;IAEY,YAAY,CAAC,EAAU;;YAChC,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAEhE,IAAI,OAAO,GAAG,KAAK,WAAW,EAAE;gBAC5B,MAAM,IAAI,KAAK,CAAC,iEAAiE,EAAE,IAAI,CAAC,CAAC;aAC5F;YAED,OAAO,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,YAAY,CAAC;QACzC,CAAC;KAAA;IAEM,MAAM;QACT,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QAC3C,gDAAgD;IACpD,CAAC;IAEM,cAAc,CAAC,EAAU;QAC5B,OAAO,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7D,CAAC;CACJ;AAzBD,8CAyBC","file":"ServerSettingRead.js","sourcesContent":["import { IServerSettingBridge } from '../bridges/IServerSettingBridge';\n\nimport { IServerSettingRead } from '../../definition/accessors';\nimport { ISetting } from '../../definition/settings';\n\nexport class ServerSettingRead implements IServerSettingRead {\n    constructor(private readonly settingBridge: IServerSettingBridge, private readonly appId: string) { }\n\n    public getOneById(id: string): Promise<ISetting> {\n        return this.settingBridge.getOneById(id, this.appId);\n    }\n\n    public async getValueById(id: string): Promise<any> {\n        const set = await this.settingBridge.getOneById(id, this.appId);\n\n        if (typeof set === 'undefined') {\n            throw new Error(`No Server Setting found, or it is unaccessible, by the id of \"${id}\".`);\n        }\n\n        return set.value || set.packageValue;\n    }\n\n    public getAll(): Promise<IterableIterator<ISetting>> {\n        throw new Error('Method not implemented.');\n        // return this.settingBridge.getAll(this.appId);\n    }\n\n    public isReadableById(id: string): Promise<boolean> {\n        return this.settingBridge.isReadableById(id, this.appId);\n    }\n}\n"]}